# ê¸°ìˆ  ì•„í‚¤í…ì²˜

## ğŸ—ï¸ ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Client Layer                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  React App (TypeScript)  â”‚  Material-UI  â”‚  Axios HTTP Client  â”‚
â”‚  - Component State       â”‚  - Theming     â”‚  - API Communicationâ”‚  
â”‚  - Local Storage        â”‚  - Icons       â”‚  - Error Handling   â”‚
â”‚  - Browser Routing      â”‚  - Layout      â”‚  - Request/Response â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                              HTTPS/REST API
                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Application Layer                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  FastAPI Server (Python)  â”‚  Pydantic Models â”‚  CORS Middlewareâ”‚
â”‚  - Async Request Handling â”‚  - Data Validationâ”‚  - Cross-Origin â”‚
â”‚  - Route Management      â”‚  - Serialization  â”‚  - Request Auth â”‚
â”‚  - Business Logic       â”‚  - Type Safety    â”‚  - Headers      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                            SQLite Connection
                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Data Layer                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  SQLite Database          â”‚  File System     â”‚  External APIs   â”‚
â”‚  - Articles Table        â”‚  - Static Assets  â”‚  - News Sources  â”‚
â”‚  - Favorites Table       â”‚  - Logs          â”‚  - OpenAI API    â”‚
â”‚  - Indexes & Relations   â”‚  - Cache Files    â”‚  - RSS Feeds     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜

### React ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ components/              # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ArticleCard.tsx     # ê°œë³„ ê¸°ì‚¬ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ KeywordCloud.tsx    # í‚¤ì›Œë“œ í´ë¼ìš°ë“œ ì‹œê°í™”
â”‚   â”œâ”€â”€ KeywordNetwork.tsx  # ë„¤íŠ¸ì›Œí¬ ê·¸ë˜í”„ ì‹œê°í™”  
â”‚   â””â”€â”€ StatsChart.tsx      # í†µê³„ ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ api/                    # API í†µì‹  ë ˆì´ì–´
â”‚   â””â”€â”€ newsApi.ts          # HTTP í´ë¼ì´ì–¸íŠ¸ ë° íƒ€ì… ì •ì˜
â”œâ”€â”€ assets/                 # ì •ì  ìì›
â”œâ”€â”€ App.tsx                 # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ config.ts              # í™˜ê²½ ì„¤ì •
â””â”€â”€ main.tsx               # ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì 
```

### ìƒíƒœ ê´€ë¦¬ íŒ¨í„´

```typescript
// ì»´í¬ë„ŒíŠ¸ë³„ ë¡œì»¬ ìƒíƒœ ê´€ë¦¬
const [articles, setArticles] = useState<Article[]>([]);
const [loading, setLoading] = useState(false);
const [error, setError] = useState<string | null>(null);

// API í˜¸ì¶œ íŒ¨í„´
const loadArticles = async () => {
  setLoading(true);
  setError(null);
  try {
    const data = await newsApi.getArticles(params);
    setArticles(data);
  } catch (err) {
    setError('ë°ì´í„° ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
  } finally {
    setLoading(false);
  }
};
```

### ì»´í¬ë„ŒíŠ¸ ìƒëª…ì£¼ê¸°

```typescript
// ì´ˆê¸° ë°ì´í„° ë¡œë“œ
useEffect(() => {
  loadArticles();
  loadSources();
  loadKeywords();
  loadStats();
}, []);

// ê²€ìƒ‰ ì¡°ê±´ ë³€ê²½ ì‹œ ë°ì´í„° ì¬ë¡œë“œ
useEffect(() => {
  if (searchTerm || selectedSource) {
    loadArticles();
  }
}, [searchTerm, selectedSource]);
```

## âš™ï¸ ë°±ì—”ë“œ ì•„í‚¤í…ì²˜

### FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¡°

```python
backend/
â”œâ”€â”€ main.py              # FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì 
â”œâ”€â”€ init_db.py          # ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ requirements.txt    # Python ì˜ì¡´ì„± ëª©ë¡
â”œâ”€â”€ start.sh           # í”„ë¡œë•ì…˜ ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ render.yaml        # Render.com ë°°í¬ ì„¤ì •
```

### API ë¼ìš°íŒ… êµ¬ì¡°

```python
from fastapi import FastAPI, HTTPException, Query
from fastapi.middleware.cors import CORSMiddleware

app = FastAPI()

# CORS ë¯¸ë“¤ì›¨ì–´ ì„¤ì •
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# ë¼ìš°íŠ¸ ì •ì˜
@app.get("/api/articles")
async def get_articles(limit: int = 100, search: str = None): ...

@app.post("/api/favorites/add")
async def add_favorite(request: FavoriteRequest): ...
```

### ë°ì´í„° ëª¨ë¸ (Pydantic)

```python
from pydantic import BaseModel
from typing import Optional

class Article(BaseModel):
    id: int
    title: str
    link: str
    published: str
    source: str
    summary: Optional[str] = None
    keywords: Optional[str] = None
    is_favorite: bool = False

class KeywordStats(BaseModel):
    keyword: str
    count: int
```

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### ERD (Entity Relationship Diagram)

```sql
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    articles     â”‚     â”‚   favorites     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚â—„â”€â”€â”€â”€â”¤ article_id (FK) â”‚
â”‚ title           â”‚     â”‚ id (PK)         â”‚
â”‚ link (UNIQUE)   â”‚     â”‚ created_at      â”‚
â”‚ published       â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ source          â”‚
â”‚ raw_text        â”‚
â”‚ summary         â”‚
â”‚ keywords        â”‚
â”‚ created_at      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ

```sql
-- ê¸°ì‚¬ ì •ë³´ í…Œì´ë¸”
CREATE TABLE articles (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    link TEXT UNIQUE NOT NULL,
    published TEXT NOT NULL,
    source TEXT NOT NULL,
    raw_text TEXT,
    summary TEXT,
    keywords TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ì¦ê²¨ì°¾ê¸° í…Œì´ë¸”
CREATE TABLE favorites (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    article_id INTEGER NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (article_id) REFERENCES articles(id),
    UNIQUE(article_id)
);

-- ì„±ëŠ¥ ìµœì í™” ì¸ë±ìŠ¤
CREATE INDEX idx_articles_published ON articles(published DESC);
CREATE INDEX idx_articles_source ON articles(source);
CREATE INDEX idx_favorites_article_id ON favorites(article_id);
```

## ğŸŒ ë„¤íŠ¸ì›Œí¬ ì•„í‚¤í…ì²˜

### HTTP í†µì‹  í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTPS     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    SQLite    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  FastAPI    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Database   â”‚
â”‚  (React)    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  (Python)   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  (SQLite)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    JSON      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    Query     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### API ìš”ì²­/ì‘ë‹µ ì˜ˆì‹œ

```typescript
// GET ìš”ì²­
const response = await axios.get('/api/articles', {
  params: {
    limit: 100,
    search: 'ì¸ê³µì§€ëŠ¥',
    source: 'TechCrunch'
  }
});

// POST ìš”ì²­  
const response = await axios.post('/api/favorites/add', {
  article_id: 123
});
```

## ğŸ”§ ë¹Œë“œ ë° ë°°í¬ ì•„í‚¤í…ì²˜

### ê°œë°œ í™˜ê²½

```bash
# í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì„œë²„
npm run dev          # â†’ http://localhost:5173

# ë°±ì—”ë“œ ê°œë°œ ì„œë²„  
uvicorn main:app --reload  # â†’ http://localhost:8000
```

### í”„ë¡œë•ì…˜ í™˜ê²½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    CDN     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Pages   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   Static Assets â”‚
â”‚  (Frontend)     â”‚            â”‚   (CSS, JS)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    API Calls
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    Docker  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Render.com    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  FastAPI Server â”‚
â”‚   (Backend)     â”‚            â”‚  (Python 3.11)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CI/CD íŒŒì´í”„ë¼ì¸

```yaml
# .github/workflows/deploy.yml
name: Deploy to GitHub Pages

on:
  push:
    branches: [ main ]

jobs:
  build:
    - uses: actions/checkout@v4
    - uses: actions/setup-node@v4
    - run: npm ci --legacy-peer-deps
    - run: npm run build
    - uses: actions/upload-pages-artifact@v3
  
  deploy:
    - uses: actions/deploy-pages@v4
```

## ğŸš€ ì„±ëŠ¥ ìµœì í™” ì „ëµ

### í”„ë¡ íŠ¸ì—”ë“œ ìµœì í™”

1. **ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…**
   ```typescript
   const LazyComponent = React.lazy(() => import('./Component'));
   ```

2. **ë©”ëª¨ì´ì œì´ì…˜**
   ```typescript
   const MemoizedComponent = React.memo(Component);
   const memoizedValue = useMemo(() => expensiveCalculation(), [deps]);
   ```

3. **ë²ˆë“¤ ìµœì í™”**
   ```javascript
   // vite.config.ts
   export default defineConfig({
     build: {
       rollupOptions: {
         output: {
           manualChunks: {
             vendor: ['react', 'react-dom'],
             ui: ['@mui/material', '@mui/icons-material']
           }
         }
       }
     }
   });
   ```

### ë°±ì—”ë“œ ìµœì í™”

1. **ë¹„ë™ê¸° ì²˜ë¦¬**
   ```python
   @app.get("/api/articles")
   async def get_articles():
       async with get_db_connection() as conn:
           return await fetch_articles(conn)
   ```

2. **ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”**
   ```python
   # ì¸ë±ìŠ¤ í™œìš© ì¿¼ë¦¬
   cursor.execute("""
       SELECT * FROM articles 
       WHERE published >= ? 
       ORDER BY published DESC 
       LIMIT ?
   """, (date_filter, limit))
   ```

3. **ìºì‹± ì „ëµ**
   ```python
   from functools import lru_cache
   
   @lru_cache(maxsize=128)
   def get_keyword_stats(limit: int):
       # ìºì‹œëœ í‚¤ì›Œë“œ í†µê³„ ë°˜í™˜
   ```

## ğŸ”’ ë³´ì•ˆ ì•„í‚¤í…ì²˜

### ë°ì´í„° ë³´í˜¸

1. **SQL ì¸ì ì…˜ ë°©ì§€**
   ```python
   # ì•ˆì „í•œ ë§¤ê°œë³€ìˆ˜ ë°”ì¸ë”©
   cursor.execute("SELECT * FROM articles WHERE id = ?", (article_id,))
   ```

2. **CORS ì •ì±…**
   ```python
   app.add_middleware(
       CORSMiddleware,
       allow_origins=["https://aebonlee.github.io"],
       allow_methods=["GET", "POST", "DELETE"],
       allow_headers=["*"]
   )
   ```

3. **í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬**
   ```python
   import os
   from dotenv import load_dotenv
   
   load_dotenv()
   API_KEY = os.getenv("OPENAI_API_KEY")
   ```

### í´ë¼ì´ì–¸íŠ¸ ë³´ì•ˆ

1. **XSS ë°©ì§€**
   ```typescript
   // Reactì˜ ìë™ ì´ìŠ¤ì¼€ì´í•‘ í™œìš©
   <div dangerouslySetInnerHTML={{__html: sanitizedHTML}} />
   ```

2. **HTTPS ì „ìš© í†µì‹ **
   ```typescript
   const api = axios.create({
     baseURL: 'https://streamlit-04.onrender.com',
     timeout: 10000
   });
   ```

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

### ì—ëŸ¬ ì²˜ë¦¬

```typescript
// í”„ë¡ íŠ¸ì—”ë“œ ì—ëŸ¬ ë°”ìš´ë”ë¦¬
class ErrorBoundary extends React.Component {
  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error('React Error:', error, errorInfo);
  }
}

// ë°±ì—”ë“œ ì˜ˆì™¸ ì²˜ë¦¬
@app.exception_handler(Exception)
async def general_exception_handler(request: Request, exc: Exception):
    logger.error(f"Unhandled exception: {exc}")
    return JSONResponse(
        status_code=500,
        content={"detail": "Internal server error"}
    )
```

### ì„±ëŠ¥ ë©”íŠ¸ë¦­ìŠ¤

```python
import time
from functools import wraps

def measure_time(func):
    @wraps(func)
    async def wrapper(*args, **kwargs):
        start = time.time()
        result = await func(*args, **kwargs)
        end = time.time()
        logger.info(f"{func.__name__} took {end - start:.2f}s")
        return result
    return wrapper
```

---

**ë‹¤ìŒ**: [API ë¬¸ì„œ](./api/API_DOCUMENTATION.md)